(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[777],{9179:function(e,n,o){"use strict";o(9600);var t=o(3609),a=o(3609);!function(){t.extend(BookReader.defaultOptions,{enableMenuToggle:!0});var e=!1;function n(e){e.refs&&e.refs.$BRnav&&e.refs.$BRnav.children(".BRnavCntl").css("display","none")}var o,i,r=!1,c=function(n,o,t){if(!e){var i,c,s=(i=document.querySelector(".BRcontainer")).scrollWidth>i.offsetWidth?n.refs.$brContainer[0]:o.currentTarget,d=n.constMode1up===n.mode||function(e,n){var o=e.clientX,t=n.offsetWidth,a=n.offsetLeft,i=Math.round(t/3),r=Math.round(i+a),c=Math.round(t-i+a);return o>r&&o<c}(o,s);(t?d:(c=o.target,a(c).hasClass("BookReader")||a(c).hasClass("BRcontainer")||a(c).hasClass("BRemptypage")||a(c).hasClass("BRpageview")||a(c).hasClass("BRtwopageview")))&&(function(e){r||(r=!0,a(document).on("BookReader:navToggled",(function e(){r=!1,window.removeEventListener("BookReader:navToggled",e)})),e.navigationIsVisible()?e.hideNavigation():e.showNavigation())}(n),t&&o.stopPropagation())}};function s(e,n){c(e,n)}function d(e,n){c(e,n,!0)}function u(n){var t=document.querySelector(".BookReader");if(t){t.addEventListener("click",s.bind(null,n),{capture:!0,passive:!0});var a=(document.querySelector(".BRcontainer")||{}).firstChild;a&&(a.addEventListener("click",d.bind(null,n),!0),function(){var n=document.querySelector(".BookReader");n&&(n.addEventListener("mousedown",(function(n){o=n.screenX,i=n.screenY,e=!0}),!0),n.addEventListener("mouseup",(function(n){Math.abs(o-n.screenX)>5||Math.abs(i-n.screenY)>5||(e=!1,o=0,i=0)}),!0))}())}}var l,f=function(e){var o=!1;try{o=e.navigationIsVisible()}catch(e){o=!1}if(o){var t=function(n){u(e)},i=function(o){!function(e){n(e),u(e)}(e)};a(document).on(["BookReader:3PageViewSelected"].join(" "),(function(o){!function(e){n(e),function(e){e.refs.$brPageViewEl&&e.refs.$brPageViewEl[0].removeEventListener("click",d,!0),e.refs.$brTwoPageView&&e.refs.$brTwoPageView[0].removeEventListener("click",d,!0)}(e),e.showNavigation()}(e)})),a(document).on(["BookReader:1PageViewSelected","BookReader:2PageViewSelected","BookReader:zoomIn","BookReader:zoomOut","BookReader:resize"].join(" "),t),a(window).on("orientationchange",t),a(document).on("BookReader:fullscreenToggled",i),a(window).on("DOMContentLoaded",i),i()}};BookReader.prototype.setup=(l=BookReader.prototype.setup,function(e){l.call(this,e)}),BookReader.prototype.init=function(e){return function(){e.call(this),this.options.enableMenuToggle&&f(this)}}(BookReader.prototype.init)}()}},0,[[9179,898]]]);
//# sourceMappingURL=plugin.menu_toggle.js.map