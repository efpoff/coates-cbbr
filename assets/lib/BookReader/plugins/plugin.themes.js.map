{"version":3,"sources":["webpack://@internetarchive/bookreader/./src/js/plugins/plugin.themes.js"],"names":["super_","jQuery","extend","BookReader","defaultOptions","enableThemesPlugin","prototype","setup","options","call","this","themes","ol","default_theme","theme","updateTheme","$","length","stylesheet","attr","append","main_href","index","indexOf","theme_href","substr","disabled","href"],"mappings":"yJAUuCA,E,oBAJvCC,EAAOC,OAAOC,WAAWC,eAAgB,CACvCC,oBAAoB,IAGtBF,WAAWG,UAAUC,OAAkBP,EAWpCG,WAAWG,UAAUC,MAVf,SAAUC,GACfR,EAAOS,KAAKC,KAAMF,GAElBE,KAAKL,mBAAqBG,EAAQH,mBAGlCK,KAAKC,OAAS,CAAEC,GAAI,MACpBF,KAAKG,cAAgB,KACrBH,KAAKI,MAAQ,OAOjBX,WAAWG,UAAUS,YAAc,SAASD,GAC1C,GAAMA,KAASJ,KAAKC,QAEK,GADNK,EAAE,UACNC,QACXH,GAASJ,KAAKI,MAGlB,GAFAJ,KAAKI,MAAQA,EAETA,GAASJ,KAAKG,cAAlB,CAKA,IAAIK,EAAaF,EAAE,eACM,GAArBE,EAAWD,SACbC,EAAaF,EAAE,2CAA2CG,KAAK,KAAM,cACrEH,EAAE,QAAQI,OAAOF,IAGnB,IAAMG,EAAYL,EAAE,UAAUG,KAAK,QAC7BG,EAAQD,EAAUE,QAAQ,kBAE1BC,EADaH,EAAUI,OAAO,EAAGH,GACPZ,KAAKC,OAAOG,GAE5CI,EAAWC,KAAK,CAACO,UAAU,EAAOC,KAAMH,SAftCR,EAAE,eAAeG,KAAK,YAAY,M","file":"plugins/plugin.themes.js","sourcesContent":["/* global BookReader */\n/**\n * Deprecated theming functionality\n * @deprecated\n */\n\njQuery.extend(BookReader.defaultOptions, {\n  enableThemesPlugin: true,\n});\n\nBookReader.prototype.setup = (function(super_) {\n  return function (options) {\n    super_.call(this, options);\n\n    this.enableThemesPlugin = options.enableThemesPlugin;\n\n    // Themes\n    this.themes = { ol: null };\n    this.default_theme = 'ol';\n    this.theme = 'ol';\n  };\n})(BookReader.prototype.setup);\n\n\n// updateTheme\n//______________________________________________________________________________\nBookReader.prototype.updateTheme = function(theme) {\n  if (!(theme in this.themes)) return;\n  const main_style = $('#BRCSS');\n  if (main_style.length == 0) return;\n  if (theme == this.theme) return;\n  this.theme = theme;\n\n  if (theme == this.default_theme) {\n    $('#BRCSSTheme').attr('disabled', true);\n    return;\n  }\n\n  let stylesheet = $('#BRCSSTheme');\n  if (stylesheet.length == 0) {\n    stylesheet = $('<link rel=\"stylesheet\" type=\"text/css\">').attr('id', 'BRCSSTheme');\n    $('head').append(stylesheet);\n  }\n\n  const main_href = $('#BRCSS').attr('href');\n  const index = main_href.indexOf('BookReader.css');\n  const css_prefix = main_href.substr(0, index);\n  const theme_href = css_prefix + this.themes[theme];\n\n  stylesheet.attr({disabled: false, href: theme_href});\n};\n"],"sourceRoot":""}